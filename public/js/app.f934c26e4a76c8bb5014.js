webpackJsonp([1,0],[function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=o(18),r=n(a),s=o(13),l=n(s),u=o(2),i=n(u),p=o(14),d=n(p),f=o(15),c=n(f),v=o(16),x=n(v),m=o(17);r["default"].use(m);var _=new m;_.map({"/log":{component:d["default"]},"/reg":{component:x["default"]},"/home":{component:i["default"]},"/post":{component:c["default"]}}),_.redirect({"*":"/home"}),_.start(l["default"],"#app")},,function(e,t,o){var n,a;n=o(4),a=o(9),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(2),r=(n(a),o(1)),s=n(r);t["default"]={created:function(){var e=localStorage.getItem("token"),t=this;e&&s["default"].ajax({url:"http://localhost:3000/user",type:"POST",data:{access_token:e}}).done(function(e){console.log(e.user.name),t.user=e.user})},data:function(){return{user:void 0}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={data:function(){return{user:{},posts:[]}}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),r=n(a);t["default"]={data:function(){return{name:"",password:""}},methods:{handleLog:function(){var e=this;r["default"].ajax({type:"POST",url:"/log",data:{name:e.name,password:e.password}}).done(function(t){console.log(t),localStorage.setItem("token",t.token),e.user=t.user})}}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),r=n(a);t["default"]={data:function(){return{title:"",content:""}},methods:{handlePost:function(){var e=this;r["default"].ajax({type:"POST",url:"/post",data:{access_token:localStorage.getItem("token"),title:e.title,content:e.content}})}}}},function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=o(1),r=n(a);t["default"]={data:function(){return{name:"",password:""}},methods:{handleReg:function(){var e=this;r["default"].ajax({type:"POST",url:"reg",data:{name:e.name,password:e.password}}).done(function(e){localStorage.setItem("token",e.token)})}}}},function(e,t){e.exports=" <div> 这是app,用户{{user.name}} <div> <ul> <li><a v-link=\"'/home'\">home</a></li> <li v-if=user><a v-link=\"'/post'\">发表文章</a></li> <li v-if=!user><a v-link=\"'/reg'\">注册</a></li> <li v-if=!user><a v-link=\"'/log'\">登录</a></li> <li v-if=user><a href=/logout>退出登录</a></li> </ul> </div> <router-view></router-view> </div> "},function(e,t){e.exports=' <div> <h1>首页</h1> <div> <div v-for="post in posts"> <h3>题目:{{post.title}}</h3> <span>作者:{{post.name}}</span> <p>内容:{{post.content}}</p> </div> </div> </div> '},function(e,t){e.exports=" <div> <form> <label for=name>用户名 <input type=text id=name v-model=name /> </label> <label for=key>密码 <input type=password id=key v-model=password /> </label> <input type=button value=登录 @click=handleLog /> </form> </div> "},function(e,t){e.exports=" <div> <form> <label for=title>标题 <input type=text id=title v-model=title /> </label> <label for=content>内容 <input type=textarea id=content v-model=content /> </label> <input type=button value=发表 @click=handlePost /> </form> </div> "},function(e,t){e.exports=" <div> <form> <label for=name>用户名 <input type=text id=name v-model=name /> </label> <label for=key>密码 <input type=password id=key v-model=password /> </label> <input type=button value=注册 @click=handleReg /> </form> </div> "},function(e,t,o){var n,a;n=o(3),a=o(8),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;n=o(5),a=o(10),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;n=o(6),a=o(11),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)},function(e,t,o){var n,a;n=o(7),a=o(12),e.exports=n||{},e.exports.__esModule&&(e.exports=e.exports["default"]),a&&(("function"==typeof e.exports?e.exports.options||(e.exports.options={}):e.exports).template=a)}]);
//# sourceMappingURL=app.f934c26e4a76c8bb5014.js.map